name: Check and SOPS

on:
  push:
    branches:
      - "action/test"
jobs:
  pre-commit:
      runs-on: ubuntu-latest

      steps:
        - name: checkout
          uses: actions/checkout@v3

        - name: Sops Binary Installer
          run: | 
                sudo apt-get update -y
                sudo apt-get install wget -y
                sudo apt-get install alien -y
                sudo wget https://github.com/mozilla/sops/releases/download/v3.7.3/sops-3.7.3-1.x86_64.rpm
                sudo alien -i sops-3.7.3-1.x86_64.rpm

        - name: Set Sops Key
          run: |
            echo "dsfksdjf"
            echo ${{ env.SECRET_KEY }}
            export SOPS_AGE_RECIPIENTS=${{ env.PUBLIC_KEY }}
            export SOPS_AGE_KEY=${{env.SECRET_KEY}}